<div class="container py-5">
  <div class="row">
    <div class="col-12">
      <p class="tui-text_h2">Ustawienia</p>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <p class="tui-text_h6">Ustawienia powiadomień</p>
      <div class="row" *ngIf="auth.user | async">
        <form class="col-12" [formGroup]="notificationsSettingsForm">
          <div class="d-flex align-items-center tui-space_bottom-4">
            <tui-toggle
              class="flex-shrink-0"
              formControlName="email"
              size="l"
              [showIcons]="true"
            ></tui-toggle>
            <span class="tui-space_left-3">Powiadomienia E-mail</span>
          </div>

          <div class="d-flex align-items-center tui-space_bottom-4">
            <tui-toggle
              class="flex-shrink-0"
              formControlName="messenger"
              size="l"
              [showIcons]="true"
            ></tui-toggle>
            <span class="tui-space_left-3">Powiadomienia Messenger</span>
          </div>

          <div class="d-flex align-items-center tui-space_bottom-4">
            <tui-toggle
              class="flex-shrink-0"
              formControlName="push"
              size="l"
              [showIcons]="true"
            ></tui-toggle>
            <span class="tui-space_left-3">Powiadomienia Push (dostępne tylko na Windows oraz MacOS)</span>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="container py-5">
  <div class="row">
    <div class="col-12">
      <p class="tui-text_h2">Obserwowane przedmioty</p>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-12">
      <tui-toggle
        [formControl]="theme.isDarkMode"
        size="l"
        [showIcons]="true"
      ></tui-toggle>
    </div>
  </div>

  <div class="row mb-4">
    <div class="col-12">
      <form class="d-flex" [formGroup]="itemUrlForm" (submit)="onItemUrlForm()">
        <div class="tui-space_right-2 flex-grow-1">
          <tui-input formControlName="itemUrl">
            Adres url przedmiotu<span class="tui-required"></span>
          </tui-input>
        </div>

        <button tuiButton type="submit" [disabled]="itemUrlForm.invalid">
          Dodaj
        </button>
      </form>
    </div>
  </div>

  <div class="row mb-4">
    <div class="col-12">
      <ng-container *ngIf="(auth.user | async) as user">
        <ng-container *ngFor="let url of user.trackedUrls">
          <div class="d-flex align-items-center py-2">
            <button
              tuiButton
              type="button"
              size="s"
              class="tui-space_right-2"
              (click)="onItemUrlRemove(url)"
            >
              Usuń
            </button>
            <a tuiLink [href]="url" target="_blank">{{ url }}</a>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <div class="row">
    <div class="col-12 justify-content-center">
      <button
        tuiButton
        type="button"
        (click)="auth.signOut()"
      >
        Logout
      </button>
    </div>
  </div>
</div>
